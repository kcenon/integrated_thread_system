# Integrated Thread System 아키텍처

**버전**: 1.0
**최종 수정일**: 2025-11-30
**언어**: [English](ARCHITECTURE.md) | [한국어]

---

## 개요

이 문서는 integrated_thread_system의 아키텍처 설계, 컴포넌트 구조 및 통합 패턴에 대해 설명합니다.

---

## 목차

1. [시스템 개요](#시스템-개요)
2. [컴포넌트 아키텍처](#컴포넌트-아키텍처)
3. [의존성 구조](#의존성-구조)
4. [데이터 흐름](#데이터-흐름)
5. [설계 원칙](#설계-원칙)

---

## 시스템 개요

integrated_thread_system은 세 가지 핵심 서브시스템을 통합한 엔터프라이즈급 스레딩 프레임워크입니다:

```
┌─────────────────────────────────────────────────────────┐
│         integrated_thread_system (이 프로젝트)           │
│              통합 스레딩 솔루션                          │
└──────────────┬──────────────────────┬───────────────────┘
               │                      │
    ┌──────────▼──────────┐  ┌────────▼──────────┐
    │   thread_system     │  │  logger_system    │
    │ 고성능 스레딩       │  │  비동기 로깅      │
    └──────────┬──────────┘  └────────┬──────────┘
               │                      │
               │  ┌────────────────────▼──────────┐
               └──►  monitoring_system            │
                  │  실시간 메트릭 및 헬스         │
                  └───────────────────────────────┘
                               │
                  ┌────────────▼────────────┐
                  │     common_system       │
                  │  기반 인터페이스        │
                  └─────────────────────────┘
```

---

## 컴포넌트 아키텍처

### 계층 구조

```
┌────────────────────────────────────────┐
│           Application Layer            │
│     (사용자 애플리케이션 코드)          │
├────────────────────────────────────────┤
│         Integration Layer              │
│   (integrated_thread_system 코어)      │
├────────────────────────────────────────┤
│          Component Layer               │
│  ┌──────────┬──────────┬─────────────┐ │
│  │ Thread   │ Logger   │ Monitoring  │ │
│  │ System   │ System   │ System      │ │
│  └──────────┴──────────┴─────────────┘ │
├────────────────────────────────────────┤
│         Foundation Layer               │
│        (common_system)                 │
└────────────────────────────────────────┘
```

### 핵심 컴포넌트

| 컴포넌트 | 역할 | 주요 기능 |
|----------|------|----------|
| **thread_system** | 동시성 엔진 | 락프리 스레드 풀, 작업 스케줄링 |
| **logger_system** | 관측성 | 비동기 로깅, 다중 백엔드 |
| **monitoring_system** | 메트릭 | 적응형 모니터링, 헬스 체크 |
| **common_system** | 기반 | Result<T>, 이벤트 버스, 인터페이스 |

---

## 의존성 구조

### 버전 매트릭스

| 컴포넌트 | 버전 | 상태 | 역할 |
|----------|------|------|------|
| common_system | v1.0.0 | ✅ 필수 | Result<T>, 이벤트 버스 |
| thread_system | v1.0.0 | ✅ 필수 | 스케줄러, 서비스 레지스트리 |
| logger_system | v1.0.0 | ✅ 필수 | 백엔드 아키텍처, 포매터 |
| monitoring_system | v2.0.0 | ✅ 필수 | 적응형 모니터링 |

### CMake 통합

```cmake
include(FetchContent)

FetchContent_Declare(
    thread_system
    GIT_REPOSITORY https://github.com/kcenon/thread_system.git
    GIT_TAG v1.0.0
)

FetchContent_Declare(
    logger_system
    GIT_REPOSITORY https://github.com/kcenon/logger_system.git
    GIT_TAG v1.0.0
)

FetchContent_MakeAvailable(thread_system logger_system)
```

---

## 데이터 흐름

### 작업 실행 흐름

```
사용자 코드
    │
    ▼
┌───────────────┐
│  작업 제출    │
└───────┬───────┘
        │
        ▼
┌───────────────┐     ┌───────────────┐
│  작업 큐      │────►│  로깅        │
└───────┬───────┘     └───────────────┘
        │
        ▼
┌───────────────┐     ┌───────────────┐
│  워커 스레드  │────►│  모니터링    │
└───────┬───────┘     └───────────────┘
        │
        ▼
┌───────────────┐
│  결과 반환    │
└───────────────┘
```

---

## 설계 원칙

### 1. 제로 설정 우선

기본값으로 즉시 사용 가능하며, 필요 시 세밀한 조정 가능

### 2. 느슨한 결합

컴포넌트 간 인터페이스 기반 통신으로 독립적 변경 가능

### 3. 관측성 내장

모든 연산에 로깅 및 메트릭 수집 자동 포함

### 4. 안전한 기본값

스레드 안전성, 예외 안전성, RAII 준수

---

## 관련 문서

- [API 레퍼런스](API_REFERENCE_KO.md)
- [기능](FEATURES_KO.md)
- [프로젝트 구조](PROJECT_STRUCTURE_KO.md)
