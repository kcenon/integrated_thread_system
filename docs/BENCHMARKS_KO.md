# Integrated Thread System 성능 벤치마크

**버전**: 1.0
**최종 수정일**: 2025-11-30
**언어**: [English](BENCHMARKS.md) | [한국어]

---

## 요약

이 문서는 모든 통합 서브시스템의 메트릭을 결합한 integrated_thread_system의 포괄적인 성능 벤치마크를 제공합니다.

**플랫폼**: Apple M1 (8코어) @ 3.2GHz, 16GB RAM, macOS Sonoma

**주요 하이라이트**:
- **스레드 풀 처리량**: 2.48M+ jobs/second
- **로깅 처리량**: 4.34M+ logs/second
- **모니터링 오버헤드**: <1% CPU 영향
- **메모리 기준**: 전체 시스템 <5 MB

---

## 목차

1. [핵심 성능 메트릭](#핵심-성능-메트릭)
2. [스레드 풀 벤치마크](#스레드-풀-벤치마크)
3. [로깅 벤치마크](#로깅-벤치마크)
4. [모니터링 벤치마크](#모니터링-벤치마크)
5. [통합 오버헤드](#통합-오버헤드)
6. [메모리 사용량](#메모리-사용량)
7. [지연 시간 분석](#지연-시간-분석)

---

## 핵심 성능 메트릭

### 요약 테이블

| 컴포넌트 | 메트릭 | 값 | 비고 |
|----------|--------|-----|------|
| **스레드 풀** | 처리량 | 2.48M jobs/s | 락프리, 작업 훔치기 |
| **로거** | 처리량 | 4.34M logs/s | 비동기, 논블로킹 |
| **모니터링** | 오버헤드 | <1% CPU | 적응형 샘플링 |
| **통합** | 시작 시간 | <50 ms | 모든 컴포넌트 |
| **메모리** | 기준 | <5 MB | 전체 시스템 |

---

## 스레드 풀 벤치마크

### 설정별 처리량

| 워커 수 | 큐 타입 | 처리량 | 지연 시간 (p99) |
|---------|---------|--------|-----------------|
| 4 | 락프리 | 1.2M jobs/s | 1.2 ms |
| 8 | 락프리 | 2.1M jobs/s | 0.9 ms |
| 16 | 락프리 | 2.48M jobs/s | 1.1 ms |
| 8 | 적응형 | 1.8M jobs/s | 0.8 ms |

### 확장 효율성

| 워커 수 | 효율성 | 비고 |
|---------|--------|------|
| 1 | 100% | 기준 |
| 4 | 98% | 거의 선형 |
| 8 | 96% | 우수 |
| 16 | 89% | 양호 |

---

## 로깅 벤치마크

### 백엔드별 처리량

| 백엔드 | 처리량 | 지연 시간 (평균) |
|--------|--------|-----------------|
| Null (벤치마크) | 4.34M/s | 230 ns |
| 콘솔 | 1.2M/s | 830 ns |
| 파일 (버퍼링) | 2.8M/s | 360 ns |
| 파일 (동기) | 450K/s | 2.2 us |

### 포맷 영향

| 포맷 | 오버헤드 | 처리량 |
|------|----------|--------|
| 일반 텍스트 | 기준 | 4.34M/s |
| JSON | +15% | 3.78M/s |
| 구조화 | +8% | 4.01M/s |

---

## 모니터링 벤치마크

### 수집 오버헤드

| 모드 | CPU 영향 | 메모리 | 메트릭/초 |
|------|----------|--------|----------|
| 비활성화 | 0% | 0 MB | - |
| 기본 | 0.3% | 1 MB | 10K |
| 전체 | 0.8% | 2 MB | 50K |
| 적응형 | 0.1-0.5% | 1.5 MB | 동적 |

---

## 통합 오버헤드

### 컴포넌트 상호작용 비용

| 연산 | 단독 | 통합 | 오버헤드 |
|------|------|------|----------|
| 작업 제출 | 400 ns | 420 ns | +5% |
| 로그 작성 | 250 ns | 270 ns | +8% |
| 메트릭 기록 | 100 ns | 110 ns | +10% |

### 시작 성능

| 단계 | 시간 |
|------|------|
| 설정 로드 | 5 ms |
| 스레드 풀 초기화 | 15 ms |
| 로거 초기화 | 10 ms |
| 모니터링 초기화 | 15 ms |
| **전체** | **<50 ms** |

---

## 메모리 사용량

### 기준 메모리

| 컴포넌트 | 메모리 |
|----------|--------|
| 스레드 풀 (8 워커) | 2 MB |
| 로거 | 1 MB |
| 모니터링 | 1.5 MB |
| 설정 | 0.5 MB |
| **전체** | **<5 MB** |

---

## 지연 시간 분석

### 종단 간 지연 시간

| 백분위수 | 작업 실행 | 로그 작성 |
|----------|----------|----------|
| p50 | 0.4 ms | 280 ns |
| p90 | 0.8 ms | 450 ns |
| p99 | 1.2 ms | 1.1 us |
| p99.9 | 2.5 ms | 3.2 us |

---

## 벤치마크 방법론

- 모든 벤치마크는 격리된 코어에서 실행
- 웜업 기간: 10초
- 측정 기간: 60초
- 5회 실행 후 중앙값 보고
- GCC 12, -O3 최적화

---

## 관련 문서

- [성능 튜닝](performance/BASELINE.md)
- [아키텍처](ARCHITECTURE.md)
- [프로덕션 품질](PRODUCTION_QUALITY.md)
